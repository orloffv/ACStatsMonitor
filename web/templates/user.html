<div>
    <div class="pagetitle">
        <h1 style="text-transform: none;">
            Пользователь {{user.additional.name}}
        </h1>
        <div ng-switch on="status" class="loading-status pull-right">
            <div class="animate-switch-container">
                <span class="glyphicon glyphicon-refresh animate-switch" ng-switch-when="loading"></span>
                <span class="glyphicon glyphicon-thumbs-down animate-switch" ng-switch-when="error"></span>
                <span class="glyphicon glyphicon-thumbs-up animate-switch" ng-switch-when="loaded"></span>
                <span class="glyphicon glyphicon-thumbs-up animate-switch" ng-switch-default></span>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="grid">
        <table class="table">
            <tr>
                <td>E-Mail</td>
                <td>{{user.name}}</td>
            </tr>
            <tr>
                <td>Компания</td>
                <td><a href="/companies/{{user.additional.companyId}}/users">{{user.additional.company}}</a></td>
            </tr>
            <tr>
                <td>Создан</td>
                <td>{{user.createdAt | date:'short'}}</td>
            </tr>
            <tr>
                <td>Последнее посещение</td>
                <td>{{user.lastHitAt | date:'short'}}</td>
            </tr>
            <tr>
                <td>Хитов</td>
                <td>{{user.hits | number}}</td>
            </tr>
            <tr>
                <td>Действий</td>
                <td>{{user.events | number}}</td>
            </tr>
            <tr>
                <td>Сессий</td>
                <td>{{user.sessions | number}}</td>
            </tr>
        </table>
    </div>
    <div class="grid">
        <div class="grid-title">
            <div class="pull-left">
                <span class="title">Действия</span>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="grid-content overflow" style="width: 100%;">
            <table class="table table-bordered table-mod-2">
                <thead>
                <tr>
                    <th>Название</th>
                    <th>Количество</th>
                    <th>Первое</th>
                    <th>Последнее</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in events">
                    <td>
                        {{item.name}}
                        <small class="label-gray">{{item.additional | additionalFormatter}}</small>
                    </td>
                    <td>{{item.count | number}}</td>
                    <td>{{item.firstAt | date:'short'}}</td>
                    <td>{{item.lastAt | date:'short'}}</td>
                </tr>
                </tbody>
            </table>

            <div class="clearfix"></div>
        </div>
    </div>

    <div class="grid">
        <div class="grid-title">
            <div class="pull-left">
                <span class="title">Страницы</span>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="grid-content overflow" style="width: 100%;">

            <table class="table table-bordered table-mod-2">
                <thead>
                <tr>
                    <th>Роут</th>
                    <th>Количество</th>
                    <th>Первое</th>
                    <th>Последнее</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in hits">
                    <td>{{item.url}}</td>
                    <td>{{item.count | number}}</td>
                    <td>{{item.firstAt | date:'short'}}</td>
                    <td>{{item.lastAt | date:'short'}}</td>
                </tr>
                </tbody>
            </table>

            <div class="clearfix"></div>
        </div>
    </div>

    <div class="grid">
        <div class="grid-title">
            <div class="pull-left">
                <span class="title">Браузеры</span>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="grid-content overflow" style="width: 100%;">

            <table class="table table-bordered table-mod-2">
                <thead>
                <tr>
                    <th>Браузер</th>
                    <th>Операционная система</th>
                    <th>Платформа</th>
                    <th>Количество</th>
                    <th>Первое</th>
                    <th>Последнее</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in useragents">
                    <td>{{item.useragent.browser}} {{item.useragent.version}}</td>
                    <td>{{item.useragent.os}}</td>
                    <td>{{item.useragent.platform}}</td>
                    <td>{{item.count | number}}</td>
                    <td>{{item.firstAt | date:'short'}}</td>
                    <td>{{item.lastAt | date:'short'}}</td>
                </tr>
                </tbody>
            </table>

            <div class="clearfix"></div>
        </div>
    </div>
</div>
